@if (visibleToast()){
  <app-toast class="z-[1001] absolute right-1 bottom-1 before:fade-in after:fade-out" [error]="toastState()"></app-toast>

}
<main class="w-full h-dvh flex flex-col gap-3 items-center p-2 ">
  <div class="h-10"></div>
  <div class="w-10/12">
    <h1 hlmH3 class="w-full text-start text-3xl">Dashboard</h1>
  </div>

  <div class="h-10"></div>
  <div class="w-10/12 flex justify-end gap-3 ">
    <input hlmInput placeholder="chercher un site....">
    <hlm-sheet side="right">
      <button brnSheetTrigger hlmBtn class="h-10 flex gap-2 items-center justify-center"><hlm-icon name="lucidePlus"></hlm-icon> ajouter site </button>

      <hlm-sheet-content *brnSheetContent="let ctx">
        <hlm-sheet-header>
          <h3 hlmSheetTitle>Edit Profile</h3>


          <p hlmSheetDescription>Make changes to your profile here. Click save when you're done.</p>
        </hlm-sheet-header>
        <div [formGroup]="site" class="py-4 grid gap-4">
          <div class="items-center grid grid-cols-4 gap-4">
            <label class="text-right" for="doc-name" hlmLabel>Name</label>
            <input class="col-span-3" formControlName="name" hlmInput id="doc-name" value="Pedro Duarte"/>
          </div>

          <div class="items-center grid grid-cols-4 gap-4">
            <label class="text-right" for="date" hlmLabel>Date</label>
            <input class="col-span-3" formControlName="date" hlmInput id="date" type="date" value="@peduarte"/>
          </div>

        </div>
        <hlm-sheet-footer>
          <button (click)="submitSite()" hlmBtn type="submit">  @if (loading()) {
            <hlm-spinner/>
          } @else {
            Save Changes
          }</button>
        </hlm-sheet-footer>
      </hlm-sheet-content>
    </hlm-sheet>

  </div>

  <div class="h-[20px]"></div>

  <div class="w-10/12 grid grid-cols-6 gap-4">
    @if (loadingOrganisation()){
      <hlm-spinner class="self-center"></hlm-spinner>
    }@else{
      @for (item of organisation();track item.id){
        <app-site-card class="sm:col-span-3 xl:col-span-2" [item]="item"></app-site-card>

      }
    }







  </div>
</main>
